!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("util")):"function"==typeof define&&define.amd?define(["exports","@angular/core","util"],t):t(e["ng-airound-protocol"]={},e.ng.core,e.util)}(this,function(e,t,i){"use strict";function n(){return new s}var r=1,o={eid:-1},s=function(){function e(){}return Object.defineProperty(e.prototype,"CONFIG_EID",{get:function(){return o.eid},set:function(e){o.eid=e},enumerable:!0,configurable:!0}),e.prototype.SGU=function(e){return new h.PROTO_SGU(e.birthdate,e.gender,e.id,e.password,e.firstname,e.lastname).generate()},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}();String.prototype.hexBitsLength=function(){return(8*this.length).toString(16)},String.prototype.toHex=function(){for(var e="",t=0;t<this.length;t++)e+=this.charCodeAt(t).toString(16);return e};var h;!function(e){var t=function(){function e(e,t,i,r,o,s){this.body=new n.SGU,this.body.birthdate=e,this.body.gender=t,this.body.tlv=new n.SGU_TLV(i,r,o,s)}return e.prototype.generate=function(){return"{"+new s({type:r,length:this.body.value.length,eid:o.eid}).header+", "+this.body.value+"}"},e}();e.PROTO_SGU=t;var n;!function(e){var t=function(){function e(){this.MAX_SIZE_BIRTHDATE=32}return Object.defineProperty(e.prototype,"birthdate",{get:function(){if(i.isUndefined(this._birthdate_32))throw"Empty value";return this._birthdate_32},set:function(e){if(i.isUndefined(e))throw"Invalid input";for(var t="",n=-1,r=0,o=e.split("/");r<o.length;r++){t+=o[r]}try{n=Number(t)}catch(e){throw e}if(n<0||n>Math.pow(2,this.MAX_SIZE_BIRTHDATE))throw new RangeError;this._birthdate_32=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gender",{get:function(){if(i.isUndefined(this._gender_8))throw"Empty value";return this._gender_8},set:function(e){if("male"===e.toLowerCase())this._gender_8="m";else if("female"===e.toLowerCase())this._gender_8="f";else{if("other"!==e.toLowerCase())throw"invalid input";this._gender_8="o"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tlv",{get:function(){if(i.isUndefined(this._tlv))throw"Empty value";return this._tlv},set:function(e){this._tlv=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return'"body": {"birthdate": "'+this.birthdate+'", "gender": "'+this.gender+'", "tlv": "'+this.tlv.value+'"}'},enumerable:!0,configurable:!0}),e}();e.SGU=t;var n=function(){function e(e,t,i,n){this._id_type="01",this._password_type="02",this._firstname_type="03",this._lastname_type="04",this.id=e,this.password=t,this.firstname=i,this.lastname=n}return Object.defineProperty(e.prototype,"id",{set:function(e){this._id_length=e.hexBitsLength(),this._id=e.toHex()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"password",{set:function(e){this._password_length=e.hexBitsLength(),this._password=e.toHex()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstname",{set:function(e){this._firstname_length=e.hexBitsLength(),this._firstname=e.toHex()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastname",{set:function(e){this._lastname_length=e.hexBitsLength(),this._lastname=e.toHex()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._id_type+this._id_length+this._id+this._password_type+this._password_length+this._password+this._firstname_type+this._firstname_length+this._firstname+this._lastname_type+this._lastname_length+this._lastname},enumerable:!0,configurable:!0}),e}();e.SGU_TLV=n}(n||(n={}));var s=function(){function e(e){this.field1='"msg_type"',this.field2='"msg_length"',this.field3='"endpoint_id"',this.delimeter=" : ",this.seperator=", ",this._type_8=-1,this._length_16=-1,this._eid_24=-1,this._type_8=e.type,this._length_16=e.length,this._eid_24=e.eid}return Object.defineProperty(e.prototype,"header",{get:function(){try{if(this._type_8*this._length_16*this._eid_24<0)throw new RangeError;var e='"header": {';return e+=this.field1+this.delimeter+this._type_8+this.seperator,e+=this.field2+this.delimeter+this._length_16+this.seperator,e+=this.field3+this.delimeter+this._eid_24,e+="}"}catch(e){return e instanceof RangeError?console.log("Invalid value"):console.log("Unexpected error"),""}},enumerable:!0,configurable:!0}),e}()}(h||(h={}));var a=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{providers:[{provide:s,useFactory:n}]}]}],e.ctorParameters=function(){return[]},e}();e.AiroundProtocolBuilder=s,e.AiroundProtocolModule=a,Object.defineProperty(e,"__esModule",{value:!0})});